{"version":3,"file":"bundle.js","mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;;;;;;;;;;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,OAAO,GAAG,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,0BAA0B,OAAO,GAAG,cAAc,GAAG,SAAS;AAC9D;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,0BAA0B,OAAO,GAAG,iBAAiB,GAAG,cAAc,GAAG,SAAS;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA,iBAAiB,2BAA2B;AAC5C;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACdA;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mHAAmH;AACnH,kCAAkC,OAAO,GAAG,UAAU;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,mHAAmH;AACnH,kCAAkC,OAAO,GAAG,cAAc,GAAG,UAAU;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,mHAAmH;AACnH,kCAAkC,OAAO,GAAG,iBAAiB,GAAG,cAAc,GAAG,UAAU;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;;;;;;UCdA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;ACtBA,uBAAuB,mBAAO,CAAC,8DAA2B;AAC1D,qBAAqB,mBAAO,CAAC,0DAAyB;AACtD,iBAAiB,mBAAO,CAAC,qDAAwB;AACjD,eAAe,mBAAO,CAAC,8CAAmB;AAC1C,iBAAiB,mBAAO,CAAC,gEAA4B;AACrD,sBAAsB,mBAAO,CAAC,4DAA0B;AACxD,yBAAyB,mBAAO,CAAC,kEAA6B;AAC9D,oBAAoB,mBAAO,CAAC,0DAAyB;AACrD,mCAAmC,mBAAO,CAAC,2FAA2C;AACtF;AACA,sBAAsB,mBAAO,CAAC,mEAA+B;AAC7D,oBAAoB,mBAAO,CAAC,6DAA4B;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mBAAmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF,CAAC","sources":["webpack:///./modules/addSubFolders.js","webpack:///./modules/contentCreator.js","webpack:///./modules/fileTypeChecker.js","webpack:///./modules/iconsCreator.js","webpack:///./modules/openFile.js","webpack:///./modules/removeSubFolders.js","webpack:///./modules/scrollAnimation.js","webpack:///./modules/subFoldersActiveClassEditor.js","webpack:///./modules/toggle.js","webpack:///./modules/videoCreator.js","webpack:///./modules/videoRemover.js","webpack:///webpack/bootstrap","webpack:///./pages/script.js"],"sourcesContent":["// Добавляем подпапки\r\nfunction addSubFolders(target, arr) {\r\n\tif (arr != undefined) {\r\n\t\tlet subFoldersList = document.createElement(\"ul\"),\r\n\t\t\tsubFolderListTitle = document.createElement(\"h3\");\r\n\r\n\t\tfunction createLink(item) {\r\n\t\t\tlet subFolderItem = document.createElement(\"li\"),\r\n\t\t\t\tsubFolderLink = document.createElement(\"a\");\r\n\r\n\t\t\tsubFoldersList.classList.add(\"sub-folder__list\");\r\n\t\t\tsubFolderItem.classList.add(\"sub-folder__item\");\r\n\t\t\tsubFolderLink.classList.add(\"sub-folder__link\");\r\n\r\n\t\t\tsubFolderLink.innerHTML = item;\r\n\t\t\tsubFolderItem.append(subFolderLink);\r\n\t\t\tsubFoldersList.append(subFolderItem);\r\n\t\t}\r\n\r\n\t\tsubFolderListTitle.innerText = \"Содержание папки:\";\r\n\t\tsubFoldersList.append(subFolderListTitle);\r\n\r\n\t\tarr.forEach((item) => {\r\n\t\t\tcreateLink(item);\r\n\t\t});\r\n\r\n\t\ttarget.parentNode.append(subFoldersList);\r\n\t}\r\n}\r\n\r\nmodule.exports = addSubFolders;\r\n","let titleBlock = document.querySelector(\"h1\");\r\nlet coursesContentList = document.querySelector(\".table__column\");\r\n// Функция-мейкер динамических блоков\r\nfunction contentCreator(elem, mainBlock) {\r\n\tlet row = document.createElement(\"li\"),\r\n\t\tlink = document.createElement(\"a\");\r\n\tlinkBox = document.createElement(\"div\");\r\n\r\n\tlink.classList.add(\"link\");\r\n\trow.classList.add(\"table__row\");\r\n\tlinkBox.classList.add(\"link__box\");\r\n\r\n\tif (elem != undefined) {\r\n\t\tlinkBox.innerHTML = elem;\r\n\t\tcoursesContentList.append(row);\r\n\t\tlink.append(linkBox);\r\n\t\trow.append(link);\r\n\t}\r\n}\r\n\r\nmodule.exports = contentCreator;\r\n","function checkFileType(file) {\r\n\tlet types = [\r\n\t\t\".py\",\r\n\t\t\".gz\",\r\n\t\t\".js\",\r\n\t\t\".pdf\",\r\n\t\t\".txt\",\r\n\t\t\".rtf\",\r\n\t\t\".pkt\",\r\n\t\t\".svg\",\r\n\t\t\".sfk\",\r\n\t\t\".apk\",\r\n\t\t\".jar\",\r\n\t\t\".yml\",\r\n\t\t\".css\",\r\n\t\t\".csv\",\r\n\t\t\".gif\",\r\n\t\t\".TTF\",\r\n\t\t\".zip\",\r\n\t\t\".key\",\r\n\t\t\".ico\",\r\n\t\t\".png\",\r\n\t\t\".srt\",\r\n\t\t\".jpg\",\r\n\t\t\".url\",\r\n\t\t\".html\",\r\n\t\t\".webm\",\r\n\t\t\".xlsx\",\r\n\t\t\".json\",\r\n\t\t\".docx\",\r\n\t\t\".pptx\",\r\n\t\t\".cache\",\r\n\t\t\"Dockerfile\",\r\n\t\t\".unitypackage\",\r\n\t];\r\n\r\n\tlet x;\r\n\r\n\ttypes.forEach((type) => {\r\n\t\tif (file.substr(-type.length) == type) {\r\n\t\t\tx = \"File\";\r\n\t\t}\r\n\t});\r\n\r\n\tconsole.log(x);\r\n\treturn x;\r\n}\r\n\r\nmodule.exports = checkFileType;\r\n","function createIcons() {\r\n\tlet allFiles = document.querySelectorAll(\".link__box\");\r\n\r\n\tallFiles.forEach((file) => {\r\n\t\tlet fileType = file.innerText,\r\n\t\t\tvideoIcon = document.createElement(\"span\"),\r\n\t\t\tfolderIcon = document.createElement(\"span\"),\r\n\t\t\tfileIcon = document.createElement(\"span\");\r\n\r\n\t\tvideoIcon.classList.add(\"video-icon\");\r\n\t\tfolderIcon.classList.add(\"folder-icon\");\r\n\t\tfileIcon.classList.add(\"file-icon\");\r\n\r\n\t\tif (\r\n\t\t\tfileType.substr(-3) == \".py\" ||\r\n\t\t\tfileType.substr(-3) == \".gz\" ||\r\n\t\t\tfileType.substr(-3) == \".js\" ||\r\n\t\t\tfileType.substr(-4) == \".pdf\" ||\r\n\t\t\tfileType.substr(-4) == \".txt\" ||\r\n\t\t\tfileType.substr(-4) == \".rtf\" ||\r\n\t\t\tfileType.substr(-4) == \".pkt\" ||\r\n\t\t\tfileType.substr(-4) == \".svg\" ||\r\n\t\t\tfileType.substr(-4) == \".sfk\" ||\r\n\t\t\tfileType.substr(-4) == \".apk\" ||\r\n\t\t\tfileType.substr(-4) == \".jar\" ||\r\n\t\t\tfileType.substr(-4) == \".yml\" ||\r\n\t\t\tfileType.substr(-4) == \".css\" ||\r\n\t\t\tfileType.substr(-4) == \".csv\" ||\r\n\t\t\tfileType.substr(-4) == \".gif\" ||\r\n\t\t\tfileType.substr(-4) == \".TTF\" ||\r\n\t\t\tfileType.substr(-4) == \".zip\" ||\r\n\t\t\tfileType.substr(-4) == \".key\" ||\r\n\t\t\tfileType.substr(-4) == \".ico\" ||\r\n\t\t\tfileType.substr(-4) == \".png\" ||\r\n\t\t\tfileType.substr(-4) == \".srt\" ||\r\n\t\t\tfileType.substr(-4) == \".jpg\" ||\r\n\t\t\tfileType.substr(-4) == \".url\" ||\r\n\t\t\tfileType.substr(-5) == \".html\" ||\r\n\t\t\tfileType.substr(-5) == \".webm\" ||\r\n\t\t\tfileType.substr(-5) == \".xlsx\" ||\r\n\t\t\tfileType.substr(-5) == \".json\" ||\r\n\t\t\tfileType.substr(-5) == \".docx\" ||\r\n\t\t\tfileType.substr(-5) == \".pptx\" ||\r\n\t\t\tfileType.substr(-6) == \".cache\" ||\r\n\t\t\tfileType.substr(-10) == \"Dockerfile\" ||\r\n\t\t\tfileType.substr(-13) == \".unitypackage\"\r\n\t\t) {\r\n\t\t\t// console.log(\"Это какой-то файл\");\r\n\t\t\tfile.prepend(fileIcon);\r\n\t\t} else if (fileType.substr(-4) == \".mp4\") {\r\n\t\t\t// console.log(\"Это Видео файл\");\r\n\t\t\tfile.prepend(videoIcon);\r\n\t\t} else {\r\n\t\t\t// console.log(\"Это Папка\");\r\n\t\t\tfile.prepend(folderIcon);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nmodule.exports = createIcons;\r\n","// Открытие файла\r\nfunction openFile(target, Folder, subFolderName, FileName, subFoldersCount, subSubFolderName) {\r\n\tlet str;\r\n\r\n\t// console.log(target);\r\n\r\n\tif (subFoldersCount <= 1) {\r\n\t\tif (subFolderName.nodeValue == \"\\n\\t\\t\\t\\t\") {\r\n\t\t\tstr = `../data/Курсы/${Folder}/${FileName}`;\r\n\t\t\tif (target.classList.contains(\"link__box\")) {\r\n\t\t\t\ttarget.parentNode.setAttribute(\"href\", str);\r\n\t\t\t}\r\n\t\t\ttarget.setAttribute(\"href\", str);\r\n\t\t\tconsole.log(\"Путь к файлу: \" + str);\r\n\t\t} else {\r\n\t\t\tsubFolderName = subFolderName.textContent;\r\n\t\t\tstr = `../data/Курсы/${Folder}/${subFolderName}/${FileName}`;\r\n\t\t\ttarget.setAttribute(\"href\", str);\r\n\t\t\tconsole.log(\"Путь к файлу: \" + str);\r\n\t\t}\r\n\t} else if (subFoldersCount >= 2) {\r\n\t\tif (subSubFolderName != undefined) {\r\n\t\t\tsubFolderName = subFolderName.textContent;\r\n\t\t\tstr = `../data/Курсы/${Folder}/${subSubFolderName}/${subFolderName}/${FileName}`;\r\n\t\t\ttarget.setAttribute(\"href\", str);\r\n\t\t\tconsole.log(\"Путь к файлу: \" + str);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = openFile;\r\n","// Убираем подпапки\r\nfunction removeSubFolders(Selector, targetedEl) {\r\n\tlet subFoldersList = document.querySelectorAll(Selector);\r\n\r\n\tfor (let i = 0; i < subFoldersList.length; i++) {\r\n\t\tlet el = subFoldersList[i];\r\n\r\n\t\tif (el == targetedEl || el == subFoldersList[0]) {\r\n\t\t} else {\r\n\t\t\tel.remove();\r\n\t\t}\r\n\t}\r\n}\r\n\r\nmodule.exports = removeSubFolders;\r\n","// Прокрутка до верха видеофайла\r\nfunction scrollTo(targetSelector) {\r\n\tconst scrollTarget = document.querySelector(targetSelector);\r\n\tconst topOffset = 80; // если не нужен отступ сверху\r\n\tconst elementPosition = scrollTarget.getBoundingClientRect().top;\r\n\tconst offsetPosition = elementPosition - topOffset;\r\n\r\n\twindow.scrollBy({\r\n\t\ttop: offsetPosition,\r\n\t\tbehavior: \"smooth\",\r\n\t});\r\n}\r\n\r\nmodule.exports = scrollTo;\r\n","// Добавляем активный класс к папке и подпапке\r\nfunction addActiveClassToSubFolders(obj) {\r\n\tobj.classList.add(\"active\");\r\n}\r\n\r\nmodule.exports = addActiveClassToSubFolders;\r\n","// Кастомизация высоты\r\nfunction getHeight(elm) {\r\n\tvar elmStyle = getComputedStyle(elm);\r\n\treturn parseInt(elmStyle.height) + parseInt(elmStyle.paddingTop) + parseInt(elmStyle.paddingBottom);\r\n}\r\n\r\n// Кастомизация переключений\r\nfunction toggle(elm) {\r\n\tvar card = elm.parentNode,\r\n\t\tcontent = card.querySelector(\".video-content\"),\r\n\t\tcontentWrapper = content.querySelector(\".video-content-wrapper\"),\r\n\t\tcontentHeight = getHeight(contentWrapper);\r\n\r\n\tcontent.classList.toggle(\"open\");\r\n\r\n\tif (content.classList.contains(\"open\")) {\r\n\t\tcontent.style.maxHeight = contentHeight + \"px\";\r\n\t} else {\r\n\t\tcontent.style.maxHeight = 0;\r\n\t}\r\n}\r\n\r\nmodule.exports = toggle;\r\n","// Видео мейкер\r\nfunction videoCreator(target, Folder, VideoFile, subFolderName, subFoldersCount, subSubFolderName) {\r\n\tlet videoParent = document.createElement(\"div\"),\r\n\t\tvideoWrapper = document.createElement(\"div\");\r\n\r\n\tvideoParent.classList.add(\"video-content\");\r\n\tvideoWrapper.classList.add(\"video-content-wrapper\");\r\n\r\n\tif (subFoldersCount <= 1) {\r\n\t\tif (subFolderName.nodeValue == \"\\n\\t\\t\\t\\t\") {\r\n\t\t\tconsole.log(\"No subfolders\");\r\n\t\t\tconsole.log(\"Main Folder: \" + Folder);\r\n\t\t\tconsole.log(\"File Name: \" + VideoFile);\r\n\t\t\tvideoWrapper.innerHTML = `\r\n\t\t\t\t<video id=\"my-video\" class=\"video-js\" controls preload=\"auto\" width=\"640\" height=\"264\" poster=\"\" data-setup=\"{}\">\r\n\t\t\t\t\t<source src=\"../data/Курсы/${Folder}/${VideoFile}\" type=\"video/mp4\" />\r\n\t\t\t\t\t<p class=\"vjs-no-js\">\r\n\t\t\t\t\t\tTo view this video please enable JavaScript, and consider upgrading to a\r\n\t\t\t\t\t\tweb browser that\r\n\t\t\t\t\t\t<a href=\"https://videojs.com/html5-video-support/\" target=\"_blank\">supports HTML5 video</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</video>\r\n\t\t\t`;\r\n\t\t} else {\r\n\t\t\tconsole.log(\"Subfolders here\");\r\n\t\t\tsubFolderName = subFolderName.textContent;\r\n\t\t\tvideoWrapper.innerHTML = `\r\n\t\t\t\t<video id=\"my-video\" class=\"video-js\" controls preload=\"auto\" width=\"640\" height=\"264\" poster=\"\" data-setup=\"{}\">\r\n\t\t\t\t\t<source src=\"../data/Курсы/${Folder}/${subFolderName}/${VideoFile}\" type=\"video/mp4\" />\r\n\t\t\t\t\t<p class=\"vjs-no-js\">\r\n\t\t\t\t\t\tTo view this video please enable JavaScript, and consider upgrading to a\r\n\t\t\t\t\t\tweb browser that\r\n\t\t\t\t\t\t<a href=\"https://videojs.com/html5-video-support/\" target=\"_blank\">supports HTML5 video</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</video>\r\n\t\t\t`;\r\n\t\t}\r\n\t} else if (subFoldersCount >= 2) {\r\n\t\tif (subSubFolderName != undefined) {\r\n\t\t\tsubFolderName = subFolderName.textContent;\r\n\t\t\tvideoWrapper.innerHTML = `\r\n\t\t\t\t<video id=\"my-video\" class=\"video-js\" controls preload=\"auto\" width=\"640\" height=\"264\" poster=\"\" data-setup=\"{}\">\r\n\t\t\t\t\t<source src=\"../data/Курсы/${Folder}/${subSubFolderName}/${subFolderName}/${VideoFile}\" type=\"video/mp4\" />\r\n\t\t\t\t\t<p class=\"vjs-no-js\">\r\n\t\t\t\t\t\tTo view this video please enable JavaScript, and consider upgrading to a\r\n\t\t\t\t\t\tweb browser that\r\n\t\t\t\t\t\t<a href=\"https://videojs.com/html5-video-support/\" target=\"_blank\">supports HTML5 video</a>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</video>\r\n\t\t\t`;\r\n\t\t}\r\n\t}\r\n\r\n\tvideoParent.append(videoWrapper);\r\n\ttarget.parentNode.append(videoParent);\r\n}\r\n\r\nmodule.exports = videoCreator;\r\n","// Убиваем активный видео-файл\r\nfunction removeVideo() {\r\n\tlet videoParent = document.querySelectorAll(\".video-content\"),\r\n\t\tvideoWrapper = document.querySelectorAll(\".video-content-wrapper\");\r\n\r\n\tvideoParent.forEach((el) => {\r\n\t\tel.remove();\r\n\t});\r\n\r\n\tvideoWrapper.forEach((el) => {\r\n\t\tel.remove();\r\n\t});\r\n}\r\n\r\nmodule.exports = removeVideo;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const contentCreator = require(\"../modules/contentCreator\");\r\nconst videoCreator = require(\"../modules/videoCreator\");\r\nconst openFile = require(\"../modules/openFile.js\");\r\nconst toggle = require(\"../modules/toggle\");\r\nconst scrollTo = require(\"../modules/scrollAnimation\");\r\nconst addSubFolders = require(\"../modules/addSubFolders\");\r\nconst removeSubFolders = require(\"../modules/removeSubFolders\");\r\nconst removeVideo = require(\"../modules/videoRemover\");\r\nconst addActiveClassToSubFolders = require(\"../modules/subFoldersActiveClassEditor.js\");\r\n// const addActiveClass = require(\"../modules/addActiveClass.js\");\r\nconst checkFileType = require(\"../modules/fileTypeChecker.js\");\r\nconst createIcons = require(\"../modules/iconsCreator.js\");\r\n\r\nlet url = \"./../data/video_content.json\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n\tconst mainTitle = localStorage.getItem(\"trigger_name\");\r\n\r\n\tlet titleBlock = document.querySelector(\"h1\");\r\n\tlet coursesContentList = document.querySelector(\".table__column\");\r\n\r\n\ttitleBlock.innerHTML = mainTitle;\r\n\r\n\tconst request = new XMLHttpRequest();\r\n\t// console.log(request);\r\n\t// request.open(method, url, async?, user?, password?) принимает в качестве аргументов метод, урл, тип запроса, логин и пароль.\r\n\trequest.open(\"GET\", url);\r\n\trequest.setRequestHeader(\"Content-type\", \"application/json; charset=utf-8\");\r\n\trequest.send();\r\n\r\n\t// Сбрасываем активный класс с ссылок\r\n\tfunction removeAllActiveClass(Selector) {\r\n\t\tlet links = document.querySelectorAll(Selector);\r\n\r\n\t\tlinks.forEach((item) => {\r\n\t\t\titem.classList.remove(\"active\");\r\n\t\t});\r\n\t}\r\n\r\n\trequest.addEventListener(\"readystatechange\", () => {\r\n\t\tif (request.readyState === 4 && request.status === 200) {\r\n\t\t\tconst data = JSON.parse(request.response);\r\n\r\n\t\t\tdata.forEach((obj) => {\r\n\t\t\t\tlet courseTitle = obj[\"Название курса\"],\r\n\t\t\t\t\tcourseFolders = obj[\"Папки\"],\r\n\t\t\t\t\tcourseFiles = obj[\"Файлы\"];\r\n\r\n\t\t\t\t// Показываем файлы в корне каталога\r\n\t\t\t\tif (obj[\"Папки\"] == \"\" && obj[\"Название курса\"] == mainTitle) {\r\n\t\t\t\t\tlet values = courseFiles;\r\n\t\t\t\t\t// формируем динамически список файлов курса\r\n\t\t\t\t\tfor (let i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\tlet el = values[i];\r\n\t\t\t\t\t\tcontentCreator(el, coursesContentList);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (obj[\"Файлы\"] && obj[\"Название курса\"] == mainTitle) {\r\n\t\t\t\t\tlet values = courseFiles;\r\n\r\n\t\t\t\t\tfor (let i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\tlet el = values[i];\r\n\t\t\t\t\t\tcontentCreator(el, coursesContentList);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Показываем папки с уроками внутри курса\r\n\t\t\t\tif (obj[\"Название курса\"] == mainTitle) {\r\n\t\t\t\t\tlet values = courseFolders;\r\n\t\t\t\t\t// формируем динамически список файлов курса\r\n\t\t\t\t\tfor (let i = 0; i < values.length; i++) {\r\n\t\t\t\t\t\tlet el = values[i];\r\n\t\t\t\t\t\tcontentCreator(el, coursesContentList);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Вешаем обработчик событий\r\n\t\t\t\t\tcoursesContentList.addEventListener(\"click\", function (e) {\r\n\t\t\t\t\t\tlet target = e.target,\r\n\t\t\t\t\t\t\tfileName = target.innerText,\r\n\t\t\t\t\t\t\tsubFolder = e.target.parentNode.parentNode.parentNode.firstChild;\r\n\r\n\t\t\t\t\t\tlet subFoldersCount = document.querySelectorAll(\".sub-folder__list\").length,\r\n\t\t\t\t\t\t\tsubSubFolderName = document.querySelector(\".link.active\");\r\n\r\n\t\t\t\t\t\tif (subSubFolderName != null) {\r\n\t\t\t\t\t\t\tsubSubFolderName = subSubFolderName.firstElementChild.innerText;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//? Logger\r\n\t\t\t\t\t\t// console.log(\"Клик по:\");\r\n\t\t\t\t\t\t// console.log(target);\r\n\r\n\t\t\t\t\t\t// console.log(\"Файл:\");\r\n\t\t\t\t\t\t// console.log(fileName);\r\n\r\n\t\t\t\t\t\t// console.log(\"Объект:\");\r\n\t\t\t\t\t\t// console.log(obj[fileName]);\r\n\r\n\t\t\t\t\t\t// console.log(\"Папки:\");\r\n\t\t\t\t\t\t// console.log(courseFolders);\r\n\r\n\t\t\t\t\t\t//! Если клик по активной ссылке\r\n\t\t\t\t\t\tif (target.parentNode.classList.contains(\"link.active\")) {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t//! Если клик по видео\r\n\t\t\t\t\t\t} else if (fileName.substr(-4) == \".mp4\") {\r\n\t\t\t\t\t\t\t//* Toggle Classes\r\n\t\t\t\t\t\t\t// if (!target.classList.contains(\"sub-folder__link\")) {\r\n\t\t\t\t\t\t\t// \tremoveAllActiveClass(\".link.active\");\r\n\t\t\t\t\t\t\t// \tremoveAllActiveClass(\".table__row.active\");\r\n\t\t\t\t\t\t\t// \taddActiveClass(target.parentNode);\r\n\t\t\t\t\t\t\t// \taddActiveClass(target.parentNode.parentNode);\r\n\t\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\t\tremoveVideo();\r\n\t\t\t\t\t\t\tvideoCreator(target, courseTitle, fileName, subFolder, subFoldersCount, subSubFolderName);\r\n\t\t\t\t\t\t\ttoggle(target);\r\n\r\n\t\t\t\t\t\t\t//* Scroll\r\n\t\t\t\t\t\t\tscrollTo(\".video-content\");\r\n\r\n\t\t\t\t\t\t\t//! Если клик по файлу\r\n\t\t\t\t\t\t} else if (checkFileType(fileName) == \"File\") {\r\n\t\t\t\t\t\t\topenFile(target, courseTitle, subFolder, fileName, subFoldersCount, subSubFolderName);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//! Если клик по подпапке\r\n\t\t\t\t\t\t\tif (!target.classList.contains(\"sub-folder__link\")) {\r\n\t\t\t\t\t\t\t\taddSubFolders(target, obj[fileName]);\r\n\r\n\t\t\t\t\t\t\t\t//* Toggle Classes\r\n\t\t\t\t\t\t\t\tremoveAllActiveClass(\".link.active\");\r\n\t\t\t\t\t\t\t\tremoveAllActiveClass(\".table__row.active\");\r\n\t\t\t\t\t\t\t\taddActiveClassToSubFolders(target.parentNode);\r\n\t\t\t\t\t\t\t\taddActiveClassToSubFolders(target.parentNode.parentNode);\r\n\r\n\t\t\t\t\t\t\t\t//* Scroll\r\n\t\t\t\t\t\t\t\tlet scrollTarget = \".link.active\";\r\n\r\n\t\t\t\t\t\t\t\tscrollTo(scrollTarget);\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t//! Если клик по папке в подпапке\r\n\t\t\t\t\t\t\tif (target.classList.contains(\"sub-folder__link\")) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t\taddSubFolders(target, obj[fileName]);\r\n\r\n\t\t\t\t\t\t\t\tlet scrollTarget = \".sub-folder__link\";\r\n\t\t\t\t\t\t\t\tscrollTo(scrollTarget);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t//! Подсветка активной подпапки\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\ttarget.classList.contains(\"sub-folder__link\") &&\r\n\t\t\t\t\t\t\ttarget.nextElementSibling.classList.contains(\"sub-folder__list\")\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tremoveAllActiveClass(\".sub-folder__list.active\");\r\n\t\t\t\t\t\t\tremoveSubFolders(\".sub-folder__list\", target.nextElementSibling);\r\n\t\t\t\t\t\t\taddActiveClassToSubFolders(target.nextElementSibling);\r\n\r\n\t\t\t\t\t\t\tlet scrollTarget = \".sub-folder__list.active\";\r\n\t\t\t\t\t\t\tscrollTo(scrollTarget);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tcreateIcons();\r\n\t\t}\r\n\t});\r\n});\r\n"],"names":[],"sourceRoot":""}